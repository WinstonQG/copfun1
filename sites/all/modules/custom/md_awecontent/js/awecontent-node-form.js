!function(e){"use strict";function a(){e("body").removeClass("awecontent-active"),e(".awecontent-body-wrapper").children().show(),e("#drupal-field-panel .scrollbar").removeClass("obj-adjust scroll-bar"),e("#drupal-field-panel").removeClass("awe-obj-panel")}function t(){e("body").addClass("awecontent-active"),e(".awecontent-body-wrapper").children().hide(),e("#drupal-field-panel").parents().show(),e("#drupal-field-panel").addClass("awe-obj-panel"),e("#drupal-field-panel .scrollbar").addClass("obj-adjust scroll-bar").perfectScrollbar()}function n(n){o?(AWEContent.Toolbars.drupal.resetToolbar(),e("body").awecontent("openBuilder",n)):(e("body").awecontent({pageURL:AWEContent.Path.layoutURL,sections:n,sectionsWrapper:"#awe-section-wrapper",pageWrapper:Drupal.settings.acPageWrapper,sectionAlwaysFluid:e("#edit-ac-container-full-width").is(":checked")?1:0,closeBuilderCallback:function(t){a(),t&&(e("#edit-ac-content").val(JSON.stringify(t)),e("#edit-ac-status").prop("checked",!0).trigger("change"))}}),o=!0),t()}var o=!1;e(document).ready(function(){var a=e("input[name=path_config]").val().trim();a&&(AWEContent.Path=e.extend({},AWEContent.Path,JSON.parse(a))),AWEContent.pageTemplatesDialog=new AWEContent.Views.PageTemplateDialog,e("body").append('<div class="awecontent-body-wrapper"></div>'),e(".awecontent-body-wrapper").append(e("body").children(":not(.awecontent-body-wrapper, .sp-container)")),e("a.ac-active-builder-btn").click(function(a){a.preventDefault();var t=e("#edit-ac-content").val().trim()?JSON.parse(e("#edit-ac-content").val().trim()):[];0==t.length&&Drupal.settings.ac_has_page_template?AWEContent.pageTemplatesDialog.open():n(t)}),AWEContent.pageTemplatesDialog.$el.bind("close",function(e,a){n(a)}),e("#edit-ac-status").change(function(){e(this).is(":checked")?e("a.ac-disable-builder-btn").show():e("a.ac-disable-builder-btn").hide()}).trigger("change"),e("a.ac-disable-builder-btn").click(function(a){a.preventDefault(),e("#edit-ac-status").prop("checked",!1).trigger("change")}),e("#edit-ac-container-full-width").change(function(){if(o){var a=e(this).is(":checked")?1:0;e("body").awecontent("option","sectionAlwaysFluid",a)}})})}(jQuery);