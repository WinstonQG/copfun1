!function(t){t.fn.aweColorPicker=function(e){var a=this;if("string"==t.type(e)){if(a.data("color-initialized")){var n=Array.prototype.slice.call(arguments,1);switch(e){case"value":if(!n.length)return t("input[name=awe-color-picker]",a).spectrum("get");t("input[name=awe-color-picker]",a).spectrum("set",n[0]);break;default:throw Error('aweColorPicker: no such method "'+e+'"')}return a}throw Error("Error: cannot call methods on aweColorPicker prior to initialization")}var i=e.change,r=e.move,s=e.hide;return e.change=function(t){i&&i(t),a.trigger("change",t)},e.move=function(t){r&&r(t),a.trigger("change",t)},e.hide=function(t){s&&s(t),a.trigger("change",t)},t("input[name=awe-color-picker]",a).spectrum(e).click(function(e){e.preventDefault(),t(this).spectrum("toggle")}),a.data("color-initialized",1),a},t.fn.aweBorderElementInit=function(){var e=this;t(".border-unit-spectrum",e).spectrum({preferredFormat:"hex",allowEmpty:!0,showInput:!0,appendTo:"#awe-spectrum-wrapper",change:function(a){t(".trigger-uniform",e).hasClass("enabled")?(t(".border-unit-spectrum",e).spectrum("set",a),t(".md-box",t(this).parents(".list-box")).trigger("change")):t(this).parents(".md-box").first().trigger("change")},move:function(a){t(".trigger-uniform",e).hasClass("enabled")?t("input[name=changing-color]",e).val(a.toString()).trigger("change"):t("input[name=changing-color]",t(this).parent().parent()).val(a.toString()).trigger("change")},hide:function(){t(".trigger-uniform",e).hasClass("enabled")?t(".md-box",e).trigger("change",{isCancel:!0}):t(".md-box",e).eq(0).trigger("change",{isCancel:!0}),t(this).closest(".md-box").removeClass("hover")},beforeShow:function(){t(this).closest(".md-box").addClass("hover")}}),t("span.add",e).click(function(a){a.preventDefault();var n=parseInt(t("span.display-font",t(this).parents(".md-box")).text())+1;t(".trigger-uniform",e).hasClass("enabled")?(t("span.display-font",t(this).parents(".list-box")).text(n),t(".md-box",t(this).parents(".list-box")).trigger("change")):(t("span.display-font",t(this).parents(".md-box")).text(n),t(this).parents(".md-box").first().trigger("change"))}),t("span.abstract",e).click(function(a){a.preventDefault();var n=parseInt(t("span.display-font",t(this).parents(".md-box")).text()),i=n-1>0?n-1:0;t(".trigger-uniform",e).hasClass("enabled")?(t("span.display-font",t(this).parents(".list-box")).text(i),t(".md-box",t(this).parents(".list-box")).trigger("change")):(t("span.display-font",t(this).parents(".md-box")).text(i),t(this).parents(".md-box").first().trigger("change"))}),t("span.display-font",e).blur(function(){var a=JSON.parse(t(".list-border-values",t(this).parents(".list-box")).val()),n=parseInt(t(this).text());-1==t.inArray(parseInt(n),a)&&(n=a[0]),t(".trigger-uniform",e).hasClass("enabled")?(t("span.display-font",t(this).parents(".list-box")).text(n).trigger("change"),t(".md-box",t(this).parents(".list-box")).trigger("change")):(t(this).text(n).trigger("change"),t(this).parents(".md-box").first().trigger("change"))}),t(".toggle-enable",e).click(function(e){e.preventDefault(),t(".togg-status",this).toggleClass("active"),t(".togg-status",this).hasClass("active")?t("input[name=toggle_value]",t(this)).val(1).trigger("change"):t("input[name=toggle_value]",t(this)).val(0).trigger("change")}),t("input[name=toggle_value]",e).change(function(){var e=t(this).parents(".ui-tabs-panel").attr("aria-labelledby"),a=t("> .select-tab li[aria-labelledby="+e+"]",t(this).parents(".md-tab"));parseInt(t(this).val())?(t(this).parent().addClass("active"),t(".list-box",t(this).parent().parent().parent()).show(),a.addClass("enable")):(t(this).parent().removeClass("active"),t(".list-box",t(this).parent().parent().parent()).hide(),a.removeClass("enable"))}),t(".trigger-uniform",e).click(function(){t(this).toggleClass("enabled").trigger("change")}).change(function(){t(this).hasClass("enabled")?t(this).parent().addClass("constraint"):t(this).parent().removeClass("constraint")}),t(".type-border",e).click(function(){var a=["none","solid","dotted","dashed","double"],n=t(this).text(),i=t.inArray(n,a)+1;i>=a.length&&(i=0),t(".trigger-uniform",e).hasClass("enabled")?(t("span.type-border",t(this).parents(".list-box")).text(a[i]),t(".md-box",t(this).parents(".list-box")).trigger("change")):(t(this).text(a[i]),t(this).parents(".md-box").first().trigger("change"))})},t.fn.aweSlider=function(e){function a(e){var a=e.toString().length;a>3?t(".display-font",r).css("font-size",parseInt(108/a)):t(".display-font",r).css("font-size","")}function n(e){var n,i=r.data("options");n=isNaN(e)||!i.allowLowerMin&&e<i.min?i.min:!i.allowGreaterMax&&e>i.max?i.max:parseInt(e),a(n),i.allowLowerMin&&t(".slider-val",r).slider("option","min")>e&&t(".slider-val",r).slider("option","min",n),i.allowGreaterMax&&t(".slider-val",r).slider("option","max")<n&&t(".slider-val",r).slider("option","max",n),t(".display-font",r).text(n),t(".slider-val",r).slider("value",n),r.trigger("change",{original:d,value:e})}function i(n,i){var s,o=JSON.parse(t("input[name=slider_values]",r).val()),l=t("span.display-font",r);n="string"!==t.type(o[0])?parseInt(n):""+n,s=n,-1==t.inArray(n,o)&&(e.allowType||(s=o[0])),a(s),l.text(s),r.trigger("change",{original:i,value:s})}var r=this,s={allowType:!1,allowGreaterMax:!0,allowLowerMin:!0};if("string"==t.type(e)){if(r.data("awe-slider-initialized")){var o=Array.prototype.slice.call(arguments,1);switch(e){case"value":var l=r.data("options");o.length?"slider"==l.type?n(Number(o[0])):i(o[0]):t(".frame-display .display-font",r).text();break;default:throw Error("aweSlider: no such method: '"+e+"'")}return r}throw new Error("Error: cannot call methods on aweSlider prior to initialization")}if(e=t.extend({},s,e),"button"==e.type){if(t("span.add",t(this)).click(function(e){e.preventDefault();var a=JSON.parse(t("input[name=slider_values]",t(this).parents(".md-box")).val()),n=t("span.display-font",t(this).parents(".md-box")),i="string"===t.type(a[0])?n.text():parseInt(n.text()),s=t.inArray(i,a),o=s+1>=a.length?0:s+1;n.text(a[o]),r.trigger("change",{original:i,value:a[o]})}),t("span.abstract",t(this)).mousedown(function(e){e.preventDefault();var a=JSON.parse(t("input[name=slider_values]",t(this).parents(".md-box")).val()),n=t("span.display-font",t(this).parents(".md-box")),i="string"===t.type(a[0])?n.text():parseInt(n.text()),s=t.inArray(i,a),o=s-1>=0?s-1:a.length-1;n.text(a[o]),r.trigger("change",{original:i,value:a[o]})}),e.allowType){var d;t("span.display-font",t(this)).blur(function(){var e=t("span.display-font",t(this).parents(".md-box")).text();i(e,d)})}}else{var d;t(".slider-val",r).slider({range:"min",min:parseInt(e.min),max:parseInt(e.max),step:parseInt(e.step),value:parseInt(e["default"]),start:function(t,e){d=e.value},slide:function(e,n){a(n.value),t(".display-font",t(this).parents(".md-box")).text(n.value)},stop:function(t,e){r.trigger("change",{original:d,value:e.value})}}),e.allowType&&t(".display-font",r).blur(function(){var e=(t(this).text().length,Number(t(this).text()));n(e)}).click(function(e){e.preventDefault(),d=t(".slider-val",r).slider("value")})}return r.data("awe-slider-initialized",!0).data("options",e),r},t.fn.aweBoxModelElementInit=function(){var e=this;t(".toggle-enable",e).click(function(e){e.preventDefault(),t(".togg-status",this).toggleClass("active"),t(".togg-status",this).hasClass("active")?t("input[name=toggle_value]",t(this)).val(1).trigger("change"):t("input[name=toggle_value]",t(this)).val(0).trigger("change")}),t("input[name=toggle_value]",e).change(function(){var e=t(this).parents(".ui-tabs-panel").attr("aria-labelledby"),a=t("> .select-tab li[aria-labelledby="+e+"]",t(this).parents(".md-tab"));parseInt(t(this).val())?(t(this).parent().addClass("active"),t(".list-box",t(this).parent().parent().parent()).show(),a.addClass("enable")):(t(this).parent().removeClass("active"),t(".list-box",t(this).parent().parent().parent()).hide(),a.removeClass("enable"))}),t(".trigger-uniform",e).click(function(){t(this).toggleClass("enabled").trigger("change")}).change(function(){t(this).hasClass("enabled")?t(this).parent().addClass("constraint"):t(this).parent().removeClass("constraint")}),t(".md-box:first",e).change(function(e,a){t(".trigger-uniform",t(this).parents(".list-box")).hasClass("enabled")&&t(".md-box",t(this).parents(".list-box")).not(t(this)).aweSlider("value",a.value)})},t.fn.aweCustomAnimationElementInit=function(){var e=this;this.click(function(){t(">.togg-status",e).toggleClass("active").trigger("change"),t(">.togg-status",e).hasClass("active")?(t(">.togg-status input[name=enabled_custom_animation]",e).val(1).trigger("change"),t(">.togg-status",e).next().show().trigger("click")):(t(">.togg-status",e).next().hide(),t("input[name=enabled_custom_animation]",t(">.togg-status",e)).val(0).trigger("change"),AWEContent.Panels.customAnimationsPanel.isOpenned&&AWEContent.Panels.customAnimationsPanel.closePanel())}),t("input[name=enabled_custom_animation]",this).change(function(){parseInt(t(this).val())?(t(this).parent().addClass("active"),t(this).parent().next().show()):(t(this).parent().removeClass("active"),t(this).parent().next().hide())}),t(".js-edit-animations",this).click(function(t){t.stopPropagation(),AWEContent.Panels.customAnimationsPanel.editAnimation(e)})},t.fn.aweCustomAttributesElementInit=function(){var e=this;this.click(function(){t(">.togg-status",this).toggleClass("active"),t(".togg-status",this).hasClass("active")?(t("input[name=enabled_custom_attributes]",t(".togg-status",this)).val(1).trigger("change"),t(".togg-status",this).next().show().trigger("click")):(t(".togg-status",this).next().hide(),t("input[name=enabled_custom_attributes]",t(".togg-status",this)).val(0).trigger("change"),AWEContent.Panels.customAttributesPanel.isOpenned&&AWEContent.Panels.customAttributesPanel.closePanel())}),t("input[name=enabled_custom_attributes]",this).change(function(){parseInt(t(this).val())?(t(this).parent().addClass("active"),t(this).parent().next().show(),t("input[name=attributes_data]",e).trigger("change")):(t(this).parent().removeClass("active"),t(this).parent().next().hide(),e.removeClass("enable"))}),t("input[name=attributes_data]",this).change(function(){-1!=t(this).val().indexOf("attrName")?e.addClass("enable"):e.removeClass("enable")}),t(".js-edit-attributes",this).click(function(t){t.stopPropagation(),AWEContent.Panels.customAttributesPanel.changeAttributes(e)})},t.fn.aweDragUpload=function(e){var a=this,n=this.get(0),i={uploadURL:AWEContent.Path.fileUploadURL,multiUpload:!0,allowTypes:[],extendData:{},beforeUploadCallback:function(){},dragOverCallback:function(){},dragLeaveCallback:function(){},dropCallback:function(){},uploadSuccessCallback:function(){},uploadFinishedCallback:function(){},uploadProgressCallback:function(){}},r=t.extend({},i,e);"draggable"in document.createElement("span")&&(n.ondragover=function(e){e.preventDefault(),t(this).addClass("awe-drag-over"),r.dragOverCallback(e,a)},n.ondragleave=function(e){e.preventDefault(),t(this).removeClass("awe-drag-over"),r.dragLeaveCallback(e,a)},n.ondrop=function(e){e.preventDefault(),t(this).removeClass("awe-drag-over"),r.dropCallback(e,a),e.dataTransfer.files.length&&(r.multiUpload?t.map(e.dataTransfer.files,function(t){AWEContent.mediaValidateFileType(t.type,r.allowTypes)&&AWEContent.ajaxUpload(t,r.extendData,r)}):AWEContent.mediaValidateFileType(e.dataTransfer.files[0].type,r.allowTypes)&&AWEContent.ajaxUpload(e.dataTransfer.files[0],r.extendData,r))})},t.fn.aweUploadElementInit=function(e){function a(e,a){var n=t('<div class="awe-item-upload">                        <div class="awe-upload-preview"></div>                        <div class="awe-upload-status">                            <i class="ic ac-icon-done"></i>                        </div>                        <div class="awe-info-progress">                            <span class="awe-upload-title"></span>                            <progress class="awe-upload-progress" min="0" max="100" value="0"></progress>                        </div>                        <input type="hidden" name="file_data" value="">                    </div>').attr("id",a),i=new FileReader;t(".awe-upload-title",n).text(e.name),t(".awe-info-upload",s).append(n),i.onload=function(e){t(".awe-upload-preview",n).append(t("<img />").attr("src",e.target.result))},i.readAsDataURL(e)}function n(e,a,n){t("progress",t("#"+n,s)).val(100)}function i(e,a,n){if(e.lengthComputable){var i=t("#"+n,s),r=e.loaded/e.total*100|0;t("progress",i).val(r)}}function r(e,a){var n=t("#"+a,s);if(1==e.status){var i=e.file;i&&(t(".awe-upload-preview img",n).attr("src",i.file_url),t(".awe-upload-status",n).addClass("finish"),t("input[name=file_data]",n).val(JSON.stringify(i)),t(".awe-info-upload",s).trigger("change"),n.trigger("click"))}else t(".awe-upload-status i",n).removeClass("ac-icon-done").addClass("ac-icon-clear").css("color","#FF0000"),n.append('<div class="awe-error-msg">File is not uploadedÂ unsuccessfully.</div>')}var s=this,o=t.extend({},e,{uploadURL:AWEContent.Path.fileUploadURL,multiUpload:s.data("multi-upload"),beforeUploadCallback:a,uploadFinishedCallback:n,uploadProgressCallback:i,uploadSuccessCallback:r});t(".upload-photo",s).aweDragUpload(o),t(".upload-photo",s).click(function(e){e.preventDefault(),t("input[name=awe_media_upload]",t(this).parents(".library")).trigger("click")}),t("input[name=awe_media_upload]",s).change(function(){for(var t=e.acceptTypes,a=s.data("multi-upload"),n=0;n<this.files.length&&(AWEContent.mediaValidateFileType(this.files[n].type,t)&&AWEContent.ajaxUpload(this.files[n],{},o),a);n++);})},t.fn.aweLibraryInit=function(){function e(){var e=t(".books-item .book-lib",a).length;a.addClass("awe-lib-loading"),t.post(n,{action:"get_upload_info",file_start:e,type:i},function(e){e&&("string"==t.type(e)&&(e=JSON.parse(e.trim())),t.each(e.files,function(){var e=this,n=t('<div class="book-lib"><i class="ic ac-icon-done"></i><img src="" alt="book"><input type="hidden" name="file_data"></div>');t("img",n).attr("src",e.libraryThumbnail),t("input",n).val(JSON.stringify(e)),t(".books-item",a).append(n)}),a.removeClass("awe-lib-loading").data("allow-load-more",e.allowed_load_more),t(".scroll-bar",a).perfectScrollbar("update"))})}var a=this,n=a.data("url"),i=a.hasClass("js-my-file")?"my-file":"library";a.data("initialized")||(e(),t(".scroll-bar",a).scroll(function(){if(a.data("allow-load-more")&&!a.hasClass("awe-lib-loading")){var n=t(".ps-scrollbar-y-rail",t(this)),i=n.height(),r=t(".ps-scrollbar-y",n),s=parseInt(r.css("top")),o=r.height();10>i-o-s&&e()}}),a.data("initialized",1))},t.fn.aweSelect=function(e){var a=this;if("string"==t.type(e)&&a.data("select-initialized")){var n=Array.prototype.slice.call(arguments,1);switch(e){case"value":if(!n.length)return t(".crr-item input[name=selected_value]",a).val();var i=n[0],r=t("li[data-value='"+i+"']",a);1!=r.length&&(r=t("li:first",a),i=r.attr("data-value")),t(".crr-item span.dis-change",a).text(r.html()),t(".crr-item input[name=selected_value]",a).val(i),a.trigger("change",{original:null,value:i})}return a}return a.click(function(e){e.preventDefault(),t(".content-drop",a).stop(!0).slideToggle(200)}),t("ul.content-drop",a).delegate("> li","click",function(e){e.preventDefault();var n=t("input[name=selected_value]",a),i=n.val(),r=t(this).attr("data-value");n.val(r),t("span.dis-change",a).html(t(this).html()),a.trigger("change",{original:i,value:r})}),t(document).click(function(e){t(e.target).closest(a).length||t(".content-drop",a).stop(!0).slideUp(200)}),a.data("select-initialized",1),a},t.fn.aweFont=function(e){function a(t){var e,a=parseInt(t),n={"font-weight":a,"font-style":""};switch(a){case 100:e="Thin";break;case 200:e="Extra-Light";break;case 300:e="Light";break;case 400:e="Normal";break;case 500:e="Medium";break;case 600:e="Semi-Bold";break;case 700:e="Bold";break;case 800:e="Extra-Bold";break;case 900:e="Ultra-Bold";break;case-1:e="Default",n["font-weight"]=""}return-1!=t.indexOf("italic")&&(e+=" Italic",n["font-style"]="italic"),{name:e,style:n}}function n(e,a){switch(e){case"fontFamily":t("span.type-font",r).text(a),r.data("font-family",a);break;case"fontStyle":s.aweSelect("value",a);break;case"textAlign":o.aweSelect("value",a);break;case"fontSize":l.aweSlider("value",a);break;case"lineHeight":d.aweSlider("value",a);break;case"letterSpacing":c.aweSlider("value",a)}}var i=this,r=t(".awe-font-family",this),s=t(".awe-font-style",this),o=t(".awe-text-align",this),l=t(".awe-font-size",this),d=t(".awe-line-spacing",this),c=t(".awe-letter-spacing",this);if("string"==t.type(e)){if(!i.data("initialized"))throw Error("Error: cannot call methods on aweFont prior to initialization");var u=e,g=Array.prototype.slice.call(arguments,1);switch(u){case"options":"object"==t.type(g[0])&&t.each(g[0],function(t,e){n(t,e)});break;default:throw Error('aweFont: no such method "'+e+'"')}return i}return r.click(function(t){t.preventDefault(),AWEContent.Panels.fontPanel.changeFont(r)}).change(function(e,r){if(r){if(!r.previewFont){n("fontFamily",r.name),t("ul.content-drop > li:not(:first)",s).remove();var o=r.fontStyles&&"string"===t.type(r.fontStyles)?r.fontStyles.split(","):[];t.each(o,function(e,n){n=a(n),t("ul.content-drop",s).append("<li data-value='"+JSON.stringify(n.style)+"'>"+n.name+"</li>")}),s.aweSelect("value",'{"font-weight":"","font-style":""}').trigger("change",{original:"",value:'{"font-weight":"","font-style":""}'})}fontName=r.name}i.trigger("fontFamilyChange",fontName)}),s.aweSelect().change(function(t,e){i.trigger("fontStyleChange",e)}),o.aweSelect().bind("change",function(t,e){i.trigger("textAlignChange",e)}),l.aweSlider({type:"slider",min:-1,max:100,step:1,allowType:!0,allowLowerMin:!1,"default":-1}).change(function(e,a){-1==a.value&&t(".frame-display .display-font",l).text("DF"),i.trigger("fontSizeChange",a)}),c.aweSlider({type:"slider",min:-1,max:20,step:1,allowLowerMin:!1,allowType:!0,"default":-1}).change(function(e,a){-1==a.value&&t(".frame-display .display-font",c).text("DF"),i.trigger("letterSpacingChange",a)}),d.aweSlider({type:"slider",min:-1,max:100,step:1,allowType:!0,allowLowerMin:!1,"default":-1}).change(function(e,a){-1==a.value&&t(".frame-display .display-font",d).text("DF"),i.trigger("lineHeightChange",a)}),i.data("initialized",1),i},t.fn.aweMediaElementInit=function(){var e=this;e.click(function(){AWEContent.Panels.mediaPanel.changeMediaFile(e,!1)}),t("span.delete-bg-img",this).click(function(a){a.stopPropagation(),t(".img-bg",e).css("background-image",""),t("input[name=selected_media]",e).val("").trigger("change")}),t("input[name=selected_media]",this).change(function(){t(this).val()?t("span.delete-bg-img",e).show():t("span.delete-bg-img",e).hide()})},t.fn.initBoxModel=function(e){function a(t){var e=t.split(" ");return e[2]||(e[2]=""),e[0]=e[0].replace("px",""),e}function n(){var n=a(e.borderTop),i=a(e.borderRight),r=a(e.borderLeft),o=a(e.borderBottom);t(".custom-border-top .border-unit-spectrum",s).spectrum("set",n[2]),t(".custom-border-top input[name=changing-color]",s).val(n[2]),t(".custom-border-top span.display-font",s).text(n[0]),t(".custom-border-top span.type-border",s).text(n[1]),t(".custom-border-right .border-unit-spectrum",s).spectrum("set",i[2]),t(".custom-border-right input[name=changing-color]",s).val(n[2]),t(".custom-border-right span.display-font",s).text(i[0]),t(".custom-border-right span.type-border",s).text(i[1]),t(".custom-border-bottom .border-unit-spectrum",s).spectrum("set",o[2]),t(".custom-border-bottom input[name=changing-color]",s).val(n[2]),t(".custom-border-bottom span.display-font",s).text(o[0]),t(".custom-border-bottom span.type-border",s).text(o[1]),t(".custom-border-left .border-unit-spectrum",s).spectrum("set",r[2]),t(".custom-border-left input[name=changing-color]",s).val(n[2]),t(".custom-border-left span.display-font",s).text(r[0]),t(".custom-border-left span.type-border",s).text(r[1]),t(".awe-border input[name=toggle_value]",s).val(e.enabledCustomBorder).trigger("change",!0),e.enabledConstraintBorder?t(".awe-border .trigger-uniform",s).addClass("enabled").trigger("change",!0):t(".awe-border .trigger-uniform",s).removeClass("enabled").trigger("change",!0)}function i(){t(".border-radius-tl span.display-font",s).text(e.borderRadiusTopLeft),t(".border-radius-tl .slider-val",s).slider("value",e.borderRadiusTopLeft),t(".border-radius-tr span.display-font",s).text(e.borderRadiusTopRight),t(".border-radius-tr .slider-val",s).slider("value",e.borderRadiusTopRight),t(".border-radius-bl span.display-font",s).text(e.borderRadiusBottomLeft),t(".border-radius-bl .slider-val",s).slider("value",e.borderRadiusBottomLeft),t(".border-radius-br span.display-font",s).text(e.borderRadiusBottomRight),t(".border-radius-br .slider-val",s).slider("value",e.borderRadiusBottomRight),t(".awe-border-radius input[name=toggle_value]",s).val(e.enabledCustomBorderRadius).trigger("change",!0),e.enabledConstraintBorderRadius?t(".awe-border-radius .trigger-uniform",s).addClass("enabled").trigger("change",!0):t(".awe-border-radius .trigger-uniform",s).removeClass("enabled").trigger("change",!0)}function r(a){var n=a;t(".custom-"+a+"-left span.display-font",s).text(e[n+"Left"]),t(".custom-"+a+"-left .slider-val",s).slider("value",e[n+"Left"]),t(".custom-"+a+"-right span.display-font",s).text(e[n+"Right"]),t(".custom-"+a+"-right .slider-val",s).slider("value",e[n+"Right"]),t(".custom-"+a+"-top span.display-font",s).text(e[n+"Top"]),t(".custom-"+a+"-top .slider-val",s).slider("value",e[n+"Top"]),t(".custom-"+a+"-bottom span.display-font",s).text(e[n+"Bottom"]),t(".custom-"+a+"-bottom .slider-val",s).slider("value",e[n+"Bottom"]),t(".awe-"+a+" input[name=toggle_value]",s).val(e["enabledCustom"+n.charAt(0).toUpperCase()+n.slice(1)]).trigger("change",!0),e["enabledConstraint"+n.charAt(0).toUpperCase()+n.slice(1)]?t(".awe-"+a+" .trigger-uniform",s).addClass("enabled").trigger("change",!0):t(".awe-"+a+" .trigger-uniform",s).removeClass("enabled").trigger("change",!0)}var s=this;n(),i(),r("padding"),r("margin")},t.fn.initBoxModelPanel=function(e,a){function n(t,e){return t.editingModel instanceof AWEContent.Models.Item?t.editingModel.get(e):t.editingModel.get("settings").get(e)}function i(e,a){var n=t("input[name=changing-color]",e).val(),i=t("span.display-font",e).text()+t("span.font-unit",e).text(),r=t("span.type-border",e).text();return a&&(n=t("input.border-unit-spectrum",e).val()),"none"!=r&&parseInt(t("span.display-font",e).text())>0?i+" "+r+" "+n:""}t(".awe-border input[name=toggle_value]",this).change(function(i,r){if(!r){var s=n(e,a);s.set("enabledCustomBorder",parseInt(t(this).val()))}}),t(".awe-border .trigger-uniform",this).change(function(i,r){if(!r){var s=n(e,a);t(this).hasClass("enabled")?s.set("enabledConstraintBorder",1):s.set("enabledConstraintBorder",0)}}),t(".awe-border .md-box",this).change(function(r,s){var o=i(t(this),s),l=n(e,a);t(this).hasClass("custom-border-top")?l.set("borderTop",o):t(this).hasClass("custom-border-right")?l.set("borderRight",o):t(this).hasClass("custom-border-bottom")?l.set("borderBottom",o):l.set("borderLeft",o)}),t(".awe-border-radius input[name=toggle_value]",this).change(function(i,r){if(!r){var s=n(e,a);s.set("enabledCustomBorderRadius",parseInt(t(this).val()))}}),t(".awe-border-radius .trigger-uniform",this).change(function(i,r){if(!r){var s=n(e,a);t(this).hasClass("enabled")?s.set("enabledConstraintBorderRadius",1):s.set("enabledConstraintBorderRadius",0)}}),t(".awe-border-radius .md-box",this).change(function(){var i=t("span.display-font",t(this)).text(),r=t("span.font-unit",t(this)).text(),s=n(e,a);t(this).hasClass("border-radius-tl")?s.set("borderRadiusTopLeft",i,{unit:r}):t(this).hasClass("border-radius-tr")?s.set("borderRadiusTopRight",i,{unit:r}):t(this).hasClass("border-radius-bl")?s.set("borderRadiusBottomLeft",i,{unit:r}):s.set("borderRadiusBottomRight",i,{unit:r})}),t(".awe-padding input[name=toggle_value]",this).change(function(i,r){if(!r){var s=n(e,a);s.set("enabledCustomPadding",parseInt(t(this).val()))}}),t(".awe-padding .trigger-uniform",this).change(function(i,r){if(!r){var s=n(e,a);t(this).hasClass("enabled")?s.set("enabledConstraintPadding",1):s.set("enabledConstraintPadding",0)}}),t(".awe-padding .md-box",this).change(function(){var i=t("span.display-font",t(this)).text(),r=t("span.font-unit",t(this)).text(),s=n(e,a);t(this).hasClass("custom-padding-top")?s.set("paddingTop",i,{unit:r}):t(this).hasClass("custom-padding-right")?s.set("paddingRight",i,{unit:r}):t(this).hasClass("custom-padding-bottom")?s.set("paddingBottom",i,{unit:r}):s.set("paddingLeft",i,{unit:r})}),t(".awe-margin input[name=toggle_value]",this).change(function(i,r){if(!r){var s=n(e,a);s.set("enabledCustomMargin",parseInt(t(this).val()))}}),t(".awe-margin .trigger-uniform",this).change(function(i,r){if(!r){var s=n(e,a);t(this).hasClass("enabled")?s.set("enabledConstraintMargin",1):s.set("enabledConstraintMargin",0)}}),t(".awe-margin .md-box",this).change(function(){var i=t("span.display-font",t(this)).text(),r=t("span.font-unit",t(this)).text(),s=n(e,a);t(this).hasClass("custom-margin-top")?s.set("marginTop",i,{unit:r}):t(this).hasClass("custom-margin-right")?s.set("marginRight",i,{unit:r}):t(this).hasClass("custom-margin-bottom")?s.set("marginBottom",i,{unit:r}):s.set("marginLeft",i,{unit:r})})},t.fn.renderItemDefaultBoxModel=function(e,a){function n(t){var a=e.borderRadiusUnit,n={"border-top-left-radius":e.borderRadiusTopLeft+a,"border-top-right-radius":e.borderRadiusTopRight+a,"border-bottom-right-radius":e.borderRadiusBottomRight+a,"border-bottom-left-radius":e.borderRadiusBottomLeft+a};t.css(n)}function i(t,a){var n=t,i={},r="";e[t+"Unit"]&&(r=e[t+"Unit"]),i[n+"-left"]=e[n+"Left"]+r,i[n+"-right"]=e[n+"Right"]+r,i[n+"-top"]=e[n+"Top"]+r,i[n+"-bottom"]=e[n+"Bottom"]+r,a.css(i)}e.enabledCustomBorder&&i("border",t(this)),e.enabledCustomBorderRadius&&(n(t(this)),a&&n(a)),e.enabledCustomPadding&&i("padding",t(this)),e.enabledCustomMargin&&i("margin",t(this))},t.fn.renderChangeSettingBoxModel=function(e,a,n,i){function r(t,e){if(e){var a={borderTop:n.get("borderTop"),borderLeft:n.get("borderLeft"),borderRight:n.get("borderRight"),borderBottom:n.get("borderBottom")};return t.css(a)}return t.css("border","")}function s(t,e,a){if(e.get("enabledCustomBorderRadius")){var n=e.get("borderRadiusUnit"),i={borderTopLeftRadius:e.get("borderRadiusTopLeft")+n,borderTopRightRadius:e.get("borderRadiusTopRight")+n,borderBottomLeftRadius:e.get("borderRadiusBottomLeft")+n,borderBottomRightRadius:e.get("borderRadiusBottomRight")+n};t.css(i),a&&a.css(i)}else t.css("border-radius",""),a&&a.css("border-radius","")}function o(t,e,a){var i=n.get(e+"Unit"),r={};return r[e+"-top"]=n.get(e+"Top")+i,r[e+"-right"]=n.get(e+"Right")+i,r[e+"-left"]=n.get(e+"Left")+i,r[e+"-bottom"]=n.get(e+"Bottom")+i,a?t.css(r):t.css(e,"")}var l=0;switch(e){case"enabledCustomBorder":r(t(this),a);break;case"borderTop":case"borderRight":case"borderLeft":case"borderBottom":t(this).css(e,a);break;case"paddingTop":case"paddingRight":case"paddingLeft":case"paddingBottom":t(this).css(e,a+n.get("paddingUnit"));break;case"marginTop":case"marginRight":case"marginLeft":case"marginBottom":t(this).css(e,a+n.get("marginUnit"));break;case"borderRadiusTopLeft":case"borderRadiusTopRight":case"borderRadiusBottomLeft":case"borderRadiusBottomRight":case"enabledCustomBorderRadius":s(t(this),n,i);break;case"enabledCustomPadding":o(t(this),"padding",a);break;case"enabledCustomMargin":o(t(this),"margin",a);break;default:l=1}return l?void 0:(this.closest(".awe-section").trigger("resize"),!1)},t.fn.initAttributesPanel=function(e){t("input[name=enabled_custom_attributes]",this).change(function(a,n){n||e.editingModel.set("customEnableAttributes",parseInt(t(this).val()))}),t("input[name=enabled_custom_attributes]",this).change(function(a,n){n||e.editingModel.set("customEnableAttributes",parseInt(t(this).val()))}),t("input[name=attributes_data]",this).change(function(a,n){if(n){var i,r=e.editingModel.get("customDataAttributes"),s=[];if(t.parseJSON(r).length)switch(s=t.parseJSON(r),n.action){case"addAttr":s.push({attrName:n.data.attrName,attrValue:n.data.attrValue});break;case"updateAttr":t.each(s,function(t,e){e.attrName==n.data.attrName&&(e.attrValue=n.data.attrValue)});break;case"rmAttr":t.each(t.parseJSON(r),function(t,e){e.attrName==n.data.attrName&&s.splice(t,1)})}else s.push({attrName:n.data.attrName,attrValue:n.data.attrValue});i={newAction:n.action,newAttrName:n.data.attrName,newAttrValue:n.data.attrValue},e.editingModel.set("customActionAttributes",i),e.editingModel.set("customDataAttributes",JSON.stringify(s))}})},t.fn.initAttributes=function(e,a){t("input[name=enabled_custom_attributes]",this).val(e).trigger("change",{isPanel:!0}),t("input[name=attributes_data]",this).val(a).trigger("change")},t.fn.renderItemDefaultAttributes=function(e,a){var n=this;e&&"[]"!=a&&t.each(t.parseJSON(a),function(t,e){var a="data-"+e.attrName,i=e.attrValue;n.attr(a,i)})},t.fn.renderChangeSettingsAttributes=function(e,a,n){var i=this;if("customEnableAttributes"==e){var r=t.parseJSON(n);t.each(r,function(t,e){a?i.attr("data-"+e.attrName,e.attrValue):i.removeAttr("data-"+e.attrName)})}"customActionAttributes"==e&&("rmAttr"==a.newAction?i.removeAttr("data-"+a.newAttrName):i.attr("data-"+a.newAttrName,a.newAttrValue))},t.fn.processAnimations=function(e,a){function n(t,e){var a="";switch(t){case"floatin":a="proty-dir-"+e;break;case"flyin":a="proty-dir-distant-"+e;break;case"turnin":a="proty-dir-turn-"+e}return a}function i(t){var e="";return"none"!=t&&(e="ant-"+t),e}function r(e,a){var r,s,o="",l="";return e&&""!=e?(e=t.parseJSON(e),r=e.type,s=e.advance,o=i(r),l=n(r,s),a.removeClass(o+" "+l).css({"animation-duration":"","animation-delay":""}),"spinin"==r&&a.css({"-webkit-transform":"","-ms-transform":"","-moz-transform":"","-o-transform":"",transform:""}),!0):!1}function s(e,a){if(""!=e){if(g=t.parseJSON(e),o=g.type,l=g.duration,d=g.delay,c=g.advance,p=i(o),h=n(o,c),a.css({"animation-duration":l+"ms","animation-delay":d+"ms"}),"spinin"==o){var r=360*parseInt(c.numberOfSpin);r="clockwise"==c.direction?-r:r,r="scale(1,1) rotate("+r+"deg)",a.css({"-webkit-transform":r,"-moz-transform":r,"-ms-transform":r,"-o-transform":r,transform:r})}a.addClass(p+" "+h),a.attr({"data-animatename":p,"data-animateproperty":h})}}var o,l,d,c,u=t(this),g=e,p="",h="";a?(r(a,u),setTimeout(function(){null!=e&&s(e,u)},50)):null!=e&&s(e,u)},t.processVideo=function(t){function e(t){var e=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,a=t.match(e);return a?a[3]:""}function a(t){var e=t.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=e?e[1]:""}if(-1!=t.indexOf("youtube")){var n=a(t);return{id:n,attrVideo:"//www.youtube.com/embed/"+n+"?autoplay=0&loop=1&controls=1&showinfo=0&volume=1&enablejsapi=1",typeVideo:"youtube"}}if(-1!=t.indexOf("vimeo")){var i=e(t);return{id:i,attrVideo:"//player.vimeo.com/video/"+i+"?autoplay=0&loop=1&fullscreen=1",typeVideo:"vimeo"}}return{id:"",attrVideo:"//www.youtube.com/embed/",typeVideo:""}},t.fn.processGoogleFont=function(e,a){{var n=this,i=n.parent().next();n.attr("data-font")}if("none"==a)t("input",i).val("").trigger("change");else{var r=0,s="",o=0;t(".content-drop li",i).hide(),t.each(a.split(","),function(a,n){switch(n.substr(0,3)){case"100":s="thin";break;case"200":s="extra-light";break;case"300":s="light";break;case"400":s="normal",r=1;break;case"500":s="semi-bold";break;case"600":s="semi-bold";break;case"700":s="bold";break;case"800":s="extra-bold";break;case"900":s="ultra-bold";break;case"default":s="Default"}e==s&&(o=1),t(".content-drop li[data-value="+s+"]",i).show()}),s=r?"normal":s,t(".dis-change",i).text(function(){return t("input",i).val(s).trigger("change"),t(this).parent().next().find("li[data-value="+s+"]").text()})}},t.fn.aweButtonElementInit=function(){var e=this;t(".image-content, .control-image",e).click(function(){AWEContent.Panels.mediaPanel.changeMediaFile(e,!1)
})},t.fn.aweGalleryElementInit=function(){var e=this;t(".library",e).click(function(){t(".select-image",e).trigger("click")}),t(".select-image",e).click(function(){AWEContent.Panels.mediaPanel.changeMediaFile(t(this),!0)}),e.delegate(".book-lib","click",function(e){e.stopPropagation(),AWEContent.Panels.mediaPanel.changeMediaFile(t(this),!1)})},t.fn.dragImageUpload=function(){function e(n,i){if(!n.length)return!1;var r=i.acceptTypes,s=n.pop();if(AWEContent.mediaValidateFileType(s.type,r)){var o=new FormData,l=new XMLHttpRequest;o.append("awe_media_upload",s),l.open("POST",i.url),l.onreadystatechange=function(){if(4===this.readyState){if(200===this.status){var r=t('<div class="book-lib"><i class="ic ac-icon-done"></i><img src="" alt="book"><input type="hidden" name="file_data"></div>'),s=t("#awe-media-panel-awe-media-upload"),o=t(".books-item",s),l="";try{l=t.parseJSON(this.responseText.trim())}catch(d){}if("object"==typeof l){t("img",r).attr("src",l.file_url),t("input",r).val(JSON.stringify(l));var c=-1;t.each(t("img",o),function(){var e=t(this).attr("src");e==l.file_url&&(c=t(this).closest(".book-lib").index())}),o.prepend(-1==c?r:t(".book-lib",o).eq(c)),a.trigger("change",{responseImage:l})}}else console.log("Upload files failed!");e(n,i)}},l.send(o)}}var a=this,n=t.optionUpload;if("draggable"in document.createElement("span")){var i=this[0];i.ondragover=function(e){t(this).addClass("dragg-over"),e.preventDefault()},i.ondragleave=function(e){t(this).removeClass("dragg-over"),e.preventDefault()},i.ondrop=function(a){a.preventDefault(),t(this).removeClass("dragg-over");var i=t.map(a.dataTransfer.files,function(t){return[t]});e(i,n)}}},t.fn.aweUploadImageInit=function(){var e=this;e.dragImageUpload(!1),e.change(function(a,n){n&&n.responseImage&&t("input[name=selected_media]",e).val(JSON.stringify(n)).trigger("change",{action:"drag",data:n})}),t(".controls-upload",e).click(function(t){t.preventDefault(),AWEContent.Panels.mediaPanel.changeMediaFile(e,!1)}),t(".image-content",e).change(function(){""!=t(this).attr("src")?t(this).next().addClass("active"):t(this).next().removeClass("active")}),t(".remove-image",e).click(function(){t(this).removeClass("active"),t(this).prev().attr("src",""),t(this).parent().next().val("").trigger("change",{action:"remove"})})},t.fn.aweSlideImageInit=function(){var e=this;t(".slide-image-controls .nav-prev",e).click(function(){var e,a=t(this).parent().next(),n=parseInt(a.val());e=0==n?3:n-1,a.val(e).trigger("change")}),t(".slide-image-controls .nav-next",e).click(function(){var e,a=t(this).parent().next(),n=parseInt(a.val());e=3==n?0:n+1,a.val(e).trigger("change")})},t.fn.defaultResponsive=function(t){t.lgResponsive||this.addClass("lg-hidden"),t.xsResponsive||this.addClass("xs-hidden"),t.smResponsive||this.addClass("sm-hidden"),t.mediumResponsive||this.addClass("md-hidden")},t.fn.changeResponsive=function(t,e){var a=this,n=0;switch(t){case"lgResponsive":e?a.removeClass("lg-hidden"):a.addClass("lg-hidden");break;case"mediumResponsive":e?a.removeClass("md-hidden"):a.addClass("md-hidden");break;case"smResponsive":e?a.removeClass("sm-hidden"):a.addClass("sm-hidden");break;case"xsResponsive":e?a.removeClass("xs-hidden"):a.addClass("xs-hidden");break;default:n=1}return n?void 0:!1},t.renderFontWeight=function(t){var e="";switch(t){case"thin":e="100";break;case"extra-light":e="200";break;case"light":e="300";break;case"normal":e="400";break;case"medium":e="500";break;case"semi-bold":e="600";break;case"bold":e="700";break;case"extra-bold":e="800";break;case"ultra-bold":e="900";break;default:e=""}return e},t.jsonParse=function(e){throw"string"!=t.type(e),new Error("Parameter is not a string. You must past json string to parse it.")},t.imageLoaded=function(t,e){function a(){if(!s){if(n>=i)return e({err:"timeout"}),void(s=!0);if(r&&o.complete)return o.width&&o.height?(e({img:o}),void(s=!0)):(e({err:"404"}),void(s=!0));o.complete&&(r=!0),n++,e.tryImage=setTimeout(a,1e3)}}var n=0,i=10,r=!1,s=!1;t.maxSeconds&&(i=t.maxSeconds);var o=new Image;o.onload=a(),o.src=t.src,a()},t.fn.aweImageURL=function(e){var a=this,n={fid:[],styles:[],success:function(){}},i="none",r="";e=t.extend(n,e),e.styles.length&&(i=e.styles.join(",")),e.fid.length&&(r=e.fid.join(",")),"-1"!=r?(t.post(AWEContent.Path.imageStyleURL,{fids:r,styles:i},function(t){a.trigger("getImageURLSuccess",t)}),a.bind("getImageURLSuccess",function(t,n){e.success(a,e.fid,e.styles,n),a.unbind("getImageURLSuccess")})):e.success(a,e.fid,e.styles,{})}}(jQuery);